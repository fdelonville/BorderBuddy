<h2 *ngIf="loading">Loading...</h2>
<div *ngIf="!loading && !error" id = "calendar">
  <h2> {{month.startDate | date:'MMMM y':undefined :'fr-BE' | titlecase}} </h2>
  <table class = "table table-bordered">
    <thead>
    <td>Lundi</td>
    <td>Mardi</td>
    <td>Mercredi</td>
    <td>Jeudi</td>
    <td>Vendredi</td>
    <td>Samedi</td>
    <td>Dimanche</td>
    </thead>
    <tbody>
    <tr *ngFor="let week of weeks; let i = index">
      <ng-container *ngIf = "i === 1"><td *ngFor="let day of emptyBeginning"> </td></ng-container>
      <td *ngFor="let day of week" class = " {{day.status | lowercase}} " (click)="onClick(day.dayDate)"> {{day.dayDate | date: 'd'}} </td>
    </tr>
    </tbody>
  </table>
  <br>
  <form *ngIf="clickedDate2" [formGroup]="typeForm" (ngSubmit)="onSubmitType()">
    <label for="type">Choisir un type</label>
    <select id = "type" formControlName="type">
      <option *ngFor="let type of types"  value="{{type}}"> {{type}} </option>
    </select>
    <button type = "submit" class = "btn btn-primary">Confirmer</button>
  </form>
  <br>
  <h3>Afficher un autre mois</h3>
  <form [formGroup]="monthForm" (ngSubmit)="onSubmitMonth()">
    <input type ="date" formControlName = "date">
    <button type = "submit" class = "btn btn-primary">Envoyer</button>
  </form>
</div>
<div *ngIf="error && !loading">
  <h2>Erreur : mois inexistant</h2>
  <button routerLink="/init" class = "btn btn-secondary">Initialiser la période concernée</button>
</div>
